"use strict";var e=require("react"),t=require("@nivo/core"),a=require("@nivo/arcs"),i=require("@nivo/legends"),n=require("react/jsx-runtime"),r=require("d3-shape"),o=require("@nivo/colors"),d=require("@nivo/tooltip");function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},s.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}var c,u=function(e){var t=e.width,a=e.height,r=e.legends,o=e.data,d=e.toggleSerie;return n.jsx(n.Fragment,{children:r.map((function(e,r){var l;return n.jsx(i.BoxLegendSvg,s({},e,{containerWidth:t,containerHeight:a,data:null!=(l=e.data)?l:o,toggleSerie:e.toggleSerie?d:void 0}),r)}))})},v={id:"id",value:"value",sortByValue:!1,innerRadius:0,padAngle:0,cornerRadius:0,layers:["arcs","arcLinkLabels","arcLabels","legends"],startAngle:0,endAngle:360,fit:!0,activeInnerRadiusOffset:0,activeOuterRadiusOffset:0,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableArcLabels:!0,arcLabel:"formattedValue",arcLabelsSkipAngle:0,arcLabelsRadiusOffset:.5,arcLabelsTextColor:{theme:"labels.text.fill"},enableArcLinkLabels:!0,arcLinkLabel:"id",arcLinkLabelsSkipAngle:0,arcLinkLabelsOffset:0,arcLinkLabelsDiagonalLength:16,arcLinkLabelsStraightLength:24,arcLinkLabelsThickness:1,arcLinkLabelsTextOffset:6,arcLinkLabelsTextColor:{theme:"labels.text.fill"},arcLinkLabelsColor:{theme:"axis.ticks.line.stroke"},colors:{scheme:"nivo"},defs:[],fill:[],isInteractive:!0,animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",tooltip:function(e){var t=e.datum;return n.jsx(d.BasicTooltip,{id:t.id,value:t.formattedValue,enableChip:!0,color:t.color})},legends:[],role:"img",pixelRatio:"undefined"!=typeof window&&null!=(c=window.devicePixelRatio)?c:1},f=["points"],g=function(a){var i=a.data,n=a.id,r=void 0===n?v.id:n,d=a.value,l=void 0===d?v.value:d,c=a.valueFormat,u=a.colors,f=void 0===u?v.colors:u,g=t.usePropertyAccessor(r),L=t.usePropertyAccessor(l),h=t.useValueFormatter(c),b=o.useOrdinalColorScale(f,"id");return e.useMemo((function(){return i.map((function(e){var t,a=g(e),i=L(e),n={id:a,label:null!=(t=e.label)?t:a,hidden:!1,value:i,formattedValue:h(i),data:e};return s({},n,{color:b(n)})}))}),[i,g,L,h,b])},L=function(a){var i=a.data,n=a.startAngle,o=a.endAngle,d=a.innerRadius,l=a.outerRadius,c=a.padAngle,u=a.sortByValue,v=a.activeId,f=a.activeInnerRadiusOffset,g=a.activeOuterRadiusOffset,L=a.hiddenIds,h=a.forwardLegendData,b=e.useMemo((function(){var e=r.pie().value((function(e){return e.value})).startAngle(t.degreesToRadians(n)).endAngle(t.degreesToRadians(o)).padAngle(t.degreesToRadians(c));return u||e.sortValues(null),e}),[n,o,c,u]),A=e.useMemo((function(){var e=i.filter((function(e){return!L.includes(e.id)}));return{dataWithArc:b(e).map((function(e){var a=Math.abs(e.endAngle-e.startAngle);return s({},e.data,{arc:{index:e.index,startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:v===e.data.id?d-f:d,outerRadius:v===e.data.id?l+g:l,thickness:l-d,padAngle:e.padAngle,angle:a,angleDeg:t.radiansToDegrees(a)}})})),legendData:i.map((function(e){return{id:e.id,label:e.label,color:e.color,hidden:L.includes(e.id),data:e}}))}}),[b,i,L,v,d,f,l,g]),p=A.legendData,k=e.useRef(h);return e.useEffect((function(){"function"==typeof k.current&&k.current(p)}),[k,p]),A},h=function(t){var a=t.activeId,i=t.onActiveIdChange,n=t.defaultActiveId,r=void 0===n?null:n,o=void 0!==a,d=e.useState(o?null:r),s=d[0],l=d[1];return{activeId:o?a:s,setActiveId:e.useCallback((function(e){i&&i(e),o||l(e)}),[o,i,l])}},b=function(i){var n=i.data,r=i.width,o=i.height,d=i.innerRadius,c=void 0===d?v.innerRadius:d,u=i.startAngle,g=void 0===u?v.startAngle:u,b=i.endAngle,A=void 0===b?v.endAngle:b,p=i.padAngle,k=void 0===p?v.padAngle:p,R=i.sortByValue,m=void 0===R?v.sortByValue:R,I=i.cornerRadius,x=void 0===I?v.cornerRadius:I,O=i.fit,C=void 0===O?v.fit:O,M=i.activeInnerRadiusOffset,w=void 0===M?v.activeInnerRadiusOffset:M,y=i.activeOuterRadiusOffset,T=void 0===y?v.activeOuterRadiusOffset:y,S=i.activeId,W=i.onActiveIdChange,j=i.defaultActiveId,D=i.forwardLegendData,B=h({activeId:S,onActiveIdChange:W,defaultActiveId:j}),V=B.activeId,E=B.setActiveId,P=e.useState([]),G=P[0],F=P[1],q=e.useMemo((function(){var e,t=Math.min(r,o)/2,i=t*Math.min(c,1),n=r/2,d=o/2;if(C){var s=a.computeArcBoundingBox(n,d,t,g-90,A-90),u=s.points,v=l(s,f),L=Math.min(r/v.width,o/v.height),h={width:v.width*L,height:v.height*L};h.x=(r-h.width)/2,h.y=(o-h.height)/2,n=(n-v.x)/v.width*v.width*L+h.x,d=(d-v.y)/v.height*v.height*L+h.y,e={box:v,ratio:L,points:u},t*=L,i*=L}return{centerX:n,centerY:d,radius:t,innerRadius:i,debug:e}}),[r,o,c,g,A,C]),H=L({data:n,startAngle:g,endAngle:A,innerRadius:q.innerRadius,outerRadius:q.radius,padAngle:k,sortByValue:m,activeId:V,activeInnerRadiusOffset:w,activeOuterRadiusOffset:T,hiddenIds:G,forwardLegendData:D}),X=e.useCallback((function(e){F((function(t){return t.indexOf(e)>-1?t.filter((function(t){return t!==e})):[].concat(t,[e])}))}),[]);return s({arcGenerator:a.useArcGenerator({cornerRadius:x,padAngle:t.degreesToRadians(k)}),activeId:V,setActiveId:E,toggleSerie:X},H,q)},A=function(t){var a=t.dataWithArc,i=t.arcGenerator,n=t.centerX,r=t.centerY,o=t.radius,d=t.innerRadius;return e.useMemo((function(){return{dataWithArc:a,arcGenerator:i,centerX:n,centerY:r,radius:o,innerRadius:d}}),[a,i,n,r,o,d])},p=function(t){var i=t.center,r=t.data,o=t.arcGenerator,s=t.borderWidth,l=t.borderColor,c=t.isInteractive,u=t.onClick,v=t.onMouseEnter,f=t.onMouseMove,g=t.onMouseLeave,L=t.setActiveId,h=t.tooltip,b=t.transitionMode,A=d.useTooltip(),p=A.showTooltipFromEvent,k=A.hideTooltip,R=e.useMemo((function(){if(c)return function(e,t){null==u||u(e,t)}}),[c,u]),m=e.useMemo((function(){if(c)return function(t,a){p(e.createElement(h,{datum:t}),a),L(t.id),null==v||v(t,a)}}),[c,p,L,v,h]),I=e.useMemo((function(){if(c)return function(t,a){p(e.createElement(h,{datum:t}),a),null==f||f(t,a)}}),[c,p,f,h]),x=e.useMemo((function(){if(c)return function(e,t){k(),L(null),null==g||g(e,t)}}),[c,k,L,g]);return n.jsx(a.ArcsLayer,{center:i,data:r,arcGenerator:o,borderWidth:s,borderColor:l,transitionMode:b,onClick:R,onMouseEnter:m,onMouseMove:I,onMouseLeave:x})},k=["isInteractive","animate","motionConfig","theme","renderWrapper"],R=function(i){var r=i.data,o=i.id,d=void 0===o?v.id:o,s=i.value,l=void 0===s?v.value:s,c=i.valueFormat,f=i.sortByValue,L=void 0===f?v.sortByValue:f,h=i.layers,k=void 0===h?v.layers:h,R=i.startAngle,m=void 0===R?v.startAngle:R,I=i.endAngle,x=void 0===I?v.endAngle:I,O=i.padAngle,C=void 0===O?v.padAngle:O,M=i.fit,w=void 0===M?v.fit:M,y=i.innerRadius,T=void 0===y?v.innerRadius:y,S=i.cornerRadius,W=void 0===S?v.cornerRadius:S,j=i.activeInnerRadiusOffset,D=void 0===j?v.activeInnerRadiusOffset:j,B=i.activeOuterRadiusOffset,V=void 0===B?v.activeOuterRadiusOffset:B,E=i.width,P=i.height,G=i.margin,F=i.colors,q=void 0===F?v.colors:F,H=i.borderWidth,X=void 0===H?v.borderWidth:H,Y=i.borderColor,z=void 0===Y?v.borderColor:Y,N=i.enableArcLabels,U=void 0===N?v.enableArcLabels:N,J=i.arcLabel,K=void 0===J?v.arcLabel:J,Q=i.arcLabelsSkipAngle,Z=void 0===Q?v.arcLabelsSkipAngle:Q,$=i.arcLabelsTextColor,_=void 0===$?v.arcLabelsTextColor:$,ee=i.arcLabelsRadiusOffset,te=void 0===ee?v.arcLabelsRadiusOffset:ee,ae=i.arcLabelsComponent,ie=i.enableArcLinkLabels,ne=void 0===ie?v.enableArcLinkLabels:ie,re=i.arcLinkLabel,oe=void 0===re?v.arcLinkLabel:re,de=i.arcLinkLabelsSkipAngle,se=void 0===de?v.arcLinkLabelsSkipAngle:de,le=i.arcLinkLabelsOffset,ce=void 0===le?v.arcLinkLabelsOffset:le,ue=i.arcLinkLabelsDiagonalLength,ve=void 0===ue?v.arcLinkLabelsDiagonalLength:ue,fe=i.arcLinkLabelsStraightLength,ge=void 0===fe?v.arcLinkLabelsStraightLength:fe,Le=i.arcLinkLabelsThickness,he=void 0===Le?v.arcLinkLabelsThickness:Le,be=i.arcLinkLabelsTextOffset,Ae=void 0===be?v.arcLinkLabelsTextOffset:be,pe=i.arcLinkLabelsTextColor,ke=void 0===pe?v.arcLinkLabelsTextColor:pe,Re=i.arcLinkLabelsColor,me=void 0===Re?v.arcLinkLabelsColor:Re,Ie=i.arcLinkLabelComponent,xe=i.defs,Oe=void 0===xe?v.defs:xe,Ce=i.fill,Me=void 0===Ce?v.fill:Ce,we=i.isInteractive,ye=void 0===we?v.isInteractive:we,Te=i.onClick,Se=i.onMouseEnter,We=i.onMouseMove,je=i.onMouseLeave,De=i.tooltip,Be=void 0===De?v.tooltip:De,Ve=i.activeId,Ee=i.onActiveIdChange,Pe=i.defaultActiveId,Ge=i.transitionMode,Fe=void 0===Ge?v.transitionMode:Ge,qe=i.legends,He=void 0===qe?v.legends:qe,Xe=i.forwardLegendData,Ye=i.role,ze=void 0===Ye?v.role:Ye,Ne=t.useDimensions(E,P,G),Ue=Ne.outerWidth,Je=Ne.outerHeight,Ke=Ne.margin,Qe=Ne.innerWidth,Ze=Ne.innerHeight,$e=g({data:r,id:d,value:l,valueFormat:c,colors:q}),_e=b({data:$e,width:Qe,height:Ze,fit:w,innerRadius:T,startAngle:m,endAngle:x,padAngle:C,sortByValue:L,cornerRadius:W,activeInnerRadiusOffset:D,activeOuterRadiusOffset:V,activeId:Ve,onActiveIdChange:Ee,defaultActiveId:Pe,forwardLegendData:Xe}),et=_e.dataWithArc,tt=_e.legendData,at=_e.arcGenerator,it=_e.centerX,nt=_e.centerY,rt=_e.radius,ot=_e.innerRadius,dt=_e.setActiveId,st=_e.toggleSerie,lt=t.bindDefs(Oe,et,Me),ct={arcs:null,arcLinkLabels:null,arcLabels:null,legends:null};k.includes("arcs")&&(ct.arcs=n.jsx(p,{center:[it,nt],data:et,arcGenerator:at,borderWidth:X,borderColor:z,isInteractive:ye,onClick:Te,onMouseEnter:Se,onMouseMove:We,onMouseLeave:je,setActiveId:dt,tooltip:Be,transitionMode:Fe},"arcs")),ne&&k.includes("arcLinkLabels")&&(ct.arcLinkLabels=n.jsx(a.ArcLinkLabelsLayer,{center:[it,nt],data:et,label:oe,skipAngle:se,offset:ce,diagonalLength:ve,straightLength:ge,strokeWidth:he,textOffset:Ae,textColor:ke,linkColor:me,component:Ie},"arcLinkLabels")),U&&k.includes("arcLabels")&&(ct.arcLabels=n.jsx(a.ArcLabelsLayer,{center:[it,nt],data:et,label:K,radiusOffset:te,skipAngle:Z,textColor:_,transitionMode:Fe,component:ae},"arcLabels")),He.length>0&&k.includes("legends")&&(ct.legends=n.jsx(u,{width:Qe,height:Ze,data:tt,legends:He,toggleSerie:st},"legends"));var ut=A({dataWithArc:et,arcGenerator:at,centerX:it,centerY:nt,radius:rt,innerRadius:ot});return n.jsx(t.SvgWrapper,{width:Ue,height:Je,margin:Ke,defs:lt,role:ze,children:k.map((function(t,a){return void 0!==ct[t]?ct[t]:"function"==typeof t?n.jsx(e.Fragment,{children:e.createElement(t,ut)},a):null}))})},m=function(e){var a=e.isInteractive,i=void 0===a?v.isInteractive:a,r=e.animate,o=void 0===r?v.animate:r,d=e.motionConfig,c=void 0===d?v.motionConfig:d,u=e.theme,f=e.renderWrapper,g=l(e,k);return n.jsx(t.Container,{animate:o,isInteractive:i,motionConfig:c,renderWrapper:f,theme:u,children:n.jsx(R,s({isInteractive:i},g))})},I=["isInteractive","theme","renderWrapper"],x=function(r){var l=r.data,c=r.id,u=void 0===c?v.id:c,f=r.value,L=void 0===f?v.value:f,h=r.valueFormat,A=r.sortByValue,p=void 0===A?v.sortByValue:A,k=r.startAngle,R=void 0===k?v.startAngle:k,m=r.endAngle,I=void 0===m?v.endAngle:m,x=r.padAngle,O=void 0===x?v.padAngle:x,C=r.fit,M=void 0===C?v.fit:C,w=r.innerRadius,y=void 0===w?v.innerRadius:w,T=r.cornerRadius,S=void 0===T?v.cornerRadius:T,W=r.activeInnerRadiusOffset,j=void 0===W?v.activeInnerRadiusOffset:W,D=r.activeOuterRadiusOffset,B=void 0===D?v.activeOuterRadiusOffset:D,V=r.width,E=r.height,P=r.margin,G=r.pixelRatio,F=void 0===G?v.pixelRatio:G,q=r.colors,H=void 0===q?v.colors:q,X=r.borderWidth,Y=void 0===X?v.borderWidth:X,z=r.borderColor,N=void 0===z?v.borderColor:z,U=r.enableArcLabels,J=void 0===U?v.enableArcLabels:U,K=r.arcLabel,Q=void 0===K?v.arcLabel:K,Z=r.arcLabelsSkipAngle,$=void 0===Z?v.arcLabelsSkipAngle:Z,_=r.arcLabelsTextColor,ee=void 0===_?v.arcLabelsTextColor:_,te=r.arcLabelsRadiusOffset,ae=void 0===te?v.arcLabelsRadiusOffset:te,ie=r.enableArcLinkLabels,ne=void 0===ie?v.enableArcLinkLabels:ie,re=r.arcLinkLabel,oe=void 0===re?v.arcLinkLabel:re,de=r.arcLinkLabelsSkipAngle,se=void 0===de?v.arcLinkLabelsSkipAngle:de,le=r.arcLinkLabelsOffset,ce=void 0===le?v.arcLinkLabelsOffset:le,ue=r.arcLinkLabelsDiagonalLength,ve=void 0===ue?v.arcLinkLabelsDiagonalLength:ue,fe=r.arcLinkLabelsStraightLength,ge=void 0===fe?v.arcLinkLabelsStraightLength:fe,Le=r.arcLinkLabelsThickness,he=void 0===Le?v.arcLinkLabelsThickness:Le,be=r.arcLinkLabelsTextOffset,Ae=void 0===be?v.arcLinkLabelsTextOffset:be,pe=r.arcLinkLabelsTextColor,ke=void 0===pe?v.arcLinkLabelsTextColor:pe,Re=r.arcLinkLabelsColor,me=void 0===Re?v.arcLinkLabelsColor:Re,Ie=r.isInteractive,xe=void 0===Ie?v.isInteractive:Ie,Oe=r.onClick,Ce=r.onMouseMove,Me=r.tooltip,we=void 0===Me?v.tooltip:Me,ye=r.activeId,Te=r.onActiveIdChange,Se=r.defaultActiveId,We=r.legends,je=void 0===We?v.legends:We,De=r.forwardLegendData,Be=e.useRef(null),Ve=t.useTheme(),Ee=t.useDimensions(V,E,P),Pe=Ee.margin,Ge=Ee.innerWidth,Fe=Ee.innerHeight,qe=Ee.outerWidth,He=Ee.outerHeight,Xe=g({data:l,id:u,value:L,valueFormat:h,colors:H}),Ye=b({data:Xe,width:Ge,height:Fe,fit:M,innerRadius:y,startAngle:R,endAngle:I,padAngle:O,sortByValue:p,cornerRadius:S,activeInnerRadiusOffset:j,activeOuterRadiusOffset:B,activeId:ye,onActiveIdChange:Te,defaultActiveId:Se,forwardLegendData:De}),ze=Ye.dataWithArc,Ne=Ye.arcGenerator,Ue=Ye.centerX,Je=Ye.centerY,Ke=Ye.radius,Qe=Ye.innerRadius,Ze=Ye.setActiveId,$e=o.useInheritedColor(N,Ve),_e=a.useArcLabels({data:ze,label:Q,skipAngle:$,offset:ae,textColor:ee}),et=a.useArcLinkLabels({data:ze,skipAngle:se,offset:ce,diagonalLength:ve,straightLength:ge,label:oe,linkColor:me,textOffset:Ae,textColor:ke});e.useEffect((function(){if(Be.current){Be.current.width=qe*F,Be.current.height=He*F;var e=Be.current.getContext("2d");e.scale(F,F),e.fillStyle=Ve.background,e.fillRect(0,0,qe,He),e.save(),e.translate(Pe.left,Pe.top),Ne.context(e),e.save(),e.translate(Ue,Je),ze.forEach((function(t){e.beginPath(),e.fillStyle=t.color,e.strokeStyle=$e(t),e.lineWidth=Y,Ne(t.arc),e.fill(),Y>0&&e.stroke()})),!0===ne&&a.drawCanvasArcLinkLabels(e,et,Ve,he),!0===J&&a.drawCanvasArcLabels(e,_e,Ve),e.restore(),je.forEach((function(t){i.renderLegendToCanvas(e,s({},t,{data:ze,containerWidth:Ge,containerHeight:Fe,theme:Ve}))}))}}),[Be,Ge,Fe,qe,He,Pe.top,Pe.left,F,Ue,Je,Ne,ze,Y,$e,J,_e,ne,et,he,je,Ve]);var tt=e.useMemo((function(){return ze.map((function(e){return s({id:e.id},e.arc)}))}),[ze]),at=function(e){if(!Be.current)return null;var i=t.getRelativeCursor(Be.current,e),n=i[0],r=i[1],o=a.findArcUnderCursor(Pe.left+Ue,Pe.top+Je,Ke,Qe,tt,n,r);return o?ze.find((function(e){return e.id===o.id})):null},it=d.useTooltip(),nt=it.showTooltipFromEvent,rt=it.hideTooltip,ot=function(t){var a=at(t);a?(null==Ce||Ce(a,t),Ze(a.id),nt(e.createElement(we,{datum:a}),t)):(Ze(null),rt())};return n.jsx("canvas",{ref:Be,width:qe*F,height:He*F,style:{width:qe,height:He,cursor:xe?"auto":"normal"},onMouseEnter:xe?ot:void 0,onMouseMove:xe?ot:void 0,onMouseLeave:xe?function(){rt()}:void 0,onClick:xe?function(e){if(Oe){var t=at(e);t&&Oe(t,e)}}:void 0})},O=function(e){var a=e.isInteractive,i=void 0===a?v.isInteractive:a,r=e.theme,o=e.renderWrapper,d=l(e,I);return n.jsx(t.Container,{isInteractive:i,renderWrapper:o,theme:r,children:n.jsx(x,s({isInteractive:i},d))})};exports.Pie=m,exports.PieCanvas=O,exports.ResponsivePie=function(e){return n.jsx(t.ResponsiveWrapper,{children:function(t){var a=t.width,i=t.height;return n.jsx(m,s({width:a,height:i},e))}})},exports.ResponsivePieCanvas=function(e){return n.jsx(t.ResponsiveWrapper,{children:function(t){var a=t.width,i=t.height;return n.jsx(O,s({width:a,height:i},e))}})},exports.defaultProps=v,exports.useNormalizedData=g,exports.usePie=function(i){var n=i.data,r=i.radius,o=i.innerRadius,d=i.startAngle,l=void 0===d?v.startAngle:d,c=i.endAngle,u=void 0===c?v.endAngle:c,f=i.padAngle,g=void 0===f?v.padAngle:f,b=i.sortByValue,A=void 0===b?v.sortByValue:b,p=i.cornerRadius,k=void 0===p?v.cornerRadius:p,R=i.activeInnerRadiusOffset,m=void 0===R?v.activeInnerRadiusOffset:R,I=i.activeOuterRadiusOffset,x=void 0===I?v.activeOuterRadiusOffset:I,O=i.activeId,C=i.onActiveIdChange,M=i.defaultActiveId,w=i.forwardLegendData,y=h({activeId:O,onActiveIdChange:C,defaultActiveId:M}),T=y.activeId,S=y.setActiveId,W=e.useState([]),j=W[0],D=W[1],B=L({data:n,startAngle:l,endAngle:u,innerRadius:o,outerRadius:r,padAngle:g,sortByValue:A,activeId:T,activeInnerRadiusOffset:m,activeOuterRadiusOffset:x,hiddenIds:j,forwardLegendData:w}),V=e.useCallback((function(e){D((function(t){return t.indexOf(e)>-1?t.filter((function(t){return t!==e})):[].concat(t,[e])}))}),[]);return s({},B,{arcGenerator:a.useArcGenerator({cornerRadius:k,padAngle:t.degreesToRadians(g)}),setActiveId:S,toggleSerie:V})},exports.usePieArcs=L,exports.usePieFromBox=b,exports.usePieLayerContext=A;
//# sourceMappingURL=nivo-pie.cjs.js.map
